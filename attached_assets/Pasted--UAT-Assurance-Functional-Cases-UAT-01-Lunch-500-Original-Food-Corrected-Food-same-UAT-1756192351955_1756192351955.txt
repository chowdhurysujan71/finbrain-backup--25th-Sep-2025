🧪 UAT Assurance

Functional Cases

UAT-01: “Lunch 500” → Original=Food, Corrected=Food (same).

UAT-02: Correction applied → shows Original vs Corrected.

UAT-03: User A correction → User B unaffected.

UAT-04: Clarifier ASK_ONCE → logs raw + clarifier UI.

UAT-05: Message >280 chars → compacted with link.

UAT-06: Flip SHOW_AUDIT_UI=false mid-session → system reverts cleanly.

Non-Functional Cases

Performance: Dual queries add <50ms overhead.

Reliability: p95 <900ms end-to-end.

Integrity: Raw ledger checksum unchanged pre/post.

Idempotency: Replaying same message yields same CC JSON.

Exit: 100% pass, 0 Sev-1/2 issues.

🔎 End-to-End System Testing
Pre-Prod Replay

1000 recorded messages run with SHADOW → valid CC JSON.

DRYRUN → raw-only writes verified.

Load & Chaos

Burst 50rps for 60s; sustain 10rps for 10 min.

Inject 5% agent timeouts → fallback path used; users unaffected.

Data Integrity

Raw ledger checksums identical pre/post.

Effective totals match legacy when no corrections applied.

Security

Logs include cc_id not PII.

Snapshot TTL enforced (90 days).

Monitoring

Dashboards: error rate, ask-rate, audit UI usage, truncation rate.

Alerts: error rate >0.5%, latency >900ms.

📝 Test Report Template

Title: Audit Transparency Release Validation
Dates: <range>
Build: SHA, schema_version, model_version
Flags: PCA_OVERLAY_ENABLED, PCA_MODE, SHOW_AUDIT_UI
Results:

UAT pass rate = 100%

E2E load & chaos metrics

Audit UI truncation <5% of messages

Latency p95 <900ms

Data integrity checksums pass

Decision: GO / NO-GO
Sign-offs: PM • CTO • QA
Rollback Drill: SHOW_AUDIT_UI=false, system reverts instantly

✅ Why This is Safe

Raw ledger never touched — overlay only.

Flag-gated — one switch hides audit UI instantly.

Compact mode — avoids Messenger message overflow.

Caching & indexes — mitigate latency risk.

Progressive disclosure — prevents user confusion.

This makes Audit Transparency UI a low-risk, high-trust MVP feature: implemented entirely through overlays and flags, impossible to corrupt the core ledger, and instantly reversible.